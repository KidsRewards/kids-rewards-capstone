<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="css/main.css">-->
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>Add a Task</title>
    <!--    <th:block th:include="templates/partials/bootstrap :: styling"></th:block>-->
</head>
<th:block th:include="partials/bootstrap :: styling"></th:block>

<body>
<nav th:replace="partials/navbar:: navbar"></nav>

<div class="container">
    <form th:action="@{/tasks/create}" th:method="POST" th:object="${newTask}">
        <p>Icon</p>
        <form class="update-icons">
            <!--            <label for="icon" class="icons">Choose Icon</label>-->
            <select id="icon" class="icons"  th:field="*{icon}" name="icon" th:value="${newTask.getIcon()}">Icons
                <option  value="Zero" >Select your task icon. </option>
                <option  value="One" >Bedroom</option>
                <option  value="Two">Kitchen</option>
                <option  value="Three">Living Room</option>
                <option  value="Four" >Bathroom</option>
                <option  value="Five">Lawn-care</option>
                <option  value='6'>Custom</option>
            </select>

            <button id="open" type="button" name="clicked" class="btn btn-outline-secondary mb-3 whiteFont" disabled>
                Click custom to create your own task image.
            </button>
            <input  class="form-control form-control-lg" id="pickedFile" type="hidden" name="imgurl" />
            <span id="uploadMessage" class="mx-3"></span>

            <br>
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" name="title" th:field="*{title}">
            </div>
            <div class="form-group">
                <label for="body">Description</label>
                <input type="text" class="form-control" id="body" name="body" th:field="*{description}">
            </div>
            <div class="form-group">
                <label for="points">Points</label>
                <input type="text" class="form-control" id="points" name="points" th:field="*{points}">
            </div>
            <!--the icon images or pics-->
            <div id="showOne" class="myDiv">
                <img th:src="@{/images/bedroom.webp}" width="300" height="300" alt="Icon 1"/><span>Bedroom</span>
            </div>
            <div id="showTwo" class="myDiv">
                <img th:src="@{/images/kitchen.webp}" width="300" height="300" alt="pup"/><span>Kitchen</span>
            </div>
            <div id="showThree" class="myDiv">
                <img th:src="@{/images/livingroom.png}" width="300" height="300" alt="pup"/><span>Living Room</span>
            </div>
            <div id="showFour" class="myDiv">
                <img th:src="@{/images/bathroom.png}" width="300" height="300" alt="pup"/><span>Bathroom</span>
            </div>
            <div id="showFive" class="myDiv">
                <img th:src="@{/images/lawncare.png}" width="300" height="300" alt="pup"/><span>Lawn-care</span>
            </div>


            <!--                  <span th:each="status : ${status}"></span>-->
            <!--            <input type="checkbox" th:field="*{status}" th:id="genre + ${status.id}" th:value="${status.id}">-->
            <!--            <label th:for="status + ${status.id}" th:text="${status.statusDesc}"></label>-->
            <!--        </span>-->
            <button type="submit">Submit</button>
        </form>

        <!--    BELOW is the snippet for "custom" icon to enable/disable filestack button-->
        <script src="//static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

        <script type="text/javascript" th:src="@{/js/main.js}"></script>
        <th:block th:replace="partials/bootstrap :: scripts"></th:block>
        <!--Script for filestack -->
        <script type="text/javascript">
            $(".icons").change(function(e){
                e.preventDefault();
                e.stopPropagation();
                var button = $(this).next("button");
                if(this.value === "6") {
                    button.css("display", "block");
                    button.prop("disabled", false);

                }else{
                    button.css("display", "none");
                    button.prop("disabled", true);
                }
                // console.log(button.prop('disabled'));
            });
        </script>

        <!--      script for icon function-->
        <script>
            // $(document).ready(function() {
            $('#icon').on('change', function () {
                var iconvalue = $(this).val();
                $("div.myDiv").hide();
                $("#show" + iconvalue).show();
            });
            // });
        </script>
    </form>
</div>
<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>

<!--<script th:src="@{/../static/js/main.js}"></script>-->
<!--<script src="/static/js/main.js"></script>-->
<!--<th:block th:include="/partials/bootstrap :: scripts"></th:block>-->

</body>
</html>
